var $=jQuery,usersAnimateParamsBeforeAction={},usersAnimateParamsAction={};$.usersHelperSetPosition=function(a="bottom center"){if("object"==typeof a){var b="",c="";for(obj in a)b+=obj+" ",c+=parseInt(a[obj])+" ";a=b.trim()+" "+c.trim()}const d=["left","right","center"],e=["top","bottom","center"];var f=usersAnimateParamsAction,g=a.split(" "),h="center"==g[1]&&e.indexOf(g[0])<0||e.indexOf(g[1])>=0&&e.indexOf(g[0])<0?g[1]:g[0],i="center"==g[0]&&d.indexOf(g[1])<0||d.indexOf(g[0])>=0&&d.indexOf(g[1])<0?g[0]:g[1],j=isNaN(parseInt(g[g.indexOf(h)+2]))?0:parseInt(g[g.indexOf(h)+2]),k=isNaN(parseInt(g[g.indexOf(i)+2]))?0:parseInt(g[g.indexOf(i)+2]);switch(i){case"left":f.left=k,f.right="initial",f.margin="0";break;case"right":f.left="initial",f.right=k,f.margin="0";break;case"center":f.left="50%",f.right="initial",f["margin-left"]="-"+usersAnimateParamsBeforeAction.width/2+"px",usersAnimateParamsBeforeAction["margin-left"]=f["margin-left"]}switch(h){case"top":f.top=j,f.bottom="initial";break;case"bottom":f.bottom=j,f.top="initial";break;case"center":f.top=$(window.top.window).innerHeight()/2-usersAnimateParamsBeforeAction.height/2,f.bottom="initial"}f.opacity="1",usersAnimateParamsBeforeAction.top=f.top,usersAnimateParamsBeforeAction.bottom=f.bottom,usersAnimateParamsBeforeAction.left=f.left,usersAnimateParamsBeforeAction.right=f.right,usersAnimateParamsAction=f,console.log([i,h]);var l=[i,h];return l},$.userSetAnimateParams=function(a,b=false){var c=a[0],d=a[1],e=usersAnimateParamsBeforeAction;if(b)switch(b+" "+d+" "+c){case"bottom center left":e.top=usersAnimateParamsBeforeAction.top+usersAnimateParamsBeforeAction.height+"px";break;case"top center left":e.top=usersAnimateParamsBeforeAction.top-usersAnimateParamsBeforeAction.height+"px";break;case"right center left":e.left=parseInt(e.width)+5+"px";break;case"left center left":e.left="-100%";break;case"bottom bottom left":e.bottom="-100%";break;case"top bottom left":e.bottom=parseInt(e.height)+5+"px";break;case"right bottom left":e.left=parseInt(e.width)+5+"px";break;case"left bottom left":e.left="-"+(parseInt(e.width)+5)+"px";break;case"bottom top left":e.top=parseInt(e.height)+5+"px";break;case"top top left":e.top="-100%";break;case"right top left":e.left=parseInt(e.width)+5+"px";break;case"left top left":e.left="-100%";break;case"bottom center right":e.top=usersAnimateParamsBeforeAction.top+usersAnimateParamsBeforeAction.height+"px";break;case"top center right":e.top=usersAnimateParamsBeforeAction.top-usersAnimateParamsBeforeAction.height+"px";break;case"right center right":e.right="-100%";break;case"left center right":e.right=parseInt(e.width)+5+"px";break;case"bottom top right":e.top=parseInt(e.height)+5+"px";break;case"top top right":e.top="-100%";break;case"right top right":e.right="-100%";break;case"left top right":e.right=parseInt(e.width)+5+"px";break;case"bottom bottom right":e.bottom="-100%";break;case"top bottom right":e.bottom=parseInt(e.height)+5+"px";break;case"right bottom right":e.right="-100%";break;case"left bottom right":e.right=parseInt(e.width)+5+"px";break;case"bottom center center":e.top=usersAnimateParamsBeforeAction.top+usersAnimateParamsBeforeAction.height+"px";break;case"top center center":e.top=usersAnimateParamsBeforeAction.top-usersAnimateParamsBeforeAction.height+"px";break;case"right center center":e.left="50%",e["margin-left"]=usersAnimateParamsBeforeAction.width+"px";break;case"left center center":e.left="50%",e["margin-left"]="-"+usersAnimateParamsBeforeAction.width+"px";break;case"bottom top center":e.top=parseInt(e.height)+5+"px";break;case"top top center":e.top="-100%";break;case"right top center":e.left="50%",e["margin-left"]=usersAnimateParamsBeforeAction.width+"px";break;case"left top center":e.left="50%",e["margin-left"]="-"+usersAnimateParamsBeforeAction.width+"px";break;case"bottom bottom center":e.bottom="-100%";break;case"top bottom center":e.bottom=parseInt(e.height)+5+"px";break;case"right bottom center":e.left="50%",e["margin-left"]=usersAnimateParamsBeforeAction.width+"px";break;case"left bottom center":e.left="50%",e["margin-left"]="-"+usersAnimateParamsBeforeAction.width+"px"}else if("center"!=d)switch(d){case"bottom":e.bottom="-100%";break;case"top":e.top="-100%"}else switch(c){case"left":e.left="-100%";break;case"right":e.right="-100%"}return e.opacity="0",e},$.users=function(a){function j(){setTimeout(function(){usersAnimateParamsBeforeAction.display="block",c.css(usersAnimateParamsBeforeAction),console.log(usersAnimateParamsBeforeAction),console.log(usersAnimateParamsAction),setTimeout(function(){c.animate(usersAnimateParamsAction,500,function(){top.spl.view(top.spl.cid_views),setTimeout(function(){c.animate(usersAnimateParamsBeforeAction,500,function(){c.css("display","none")})},h.close)})},100)},h.wait)}var b,c,f,h,i;h=$.extend({wait:100,close:5e3,min_users:10,max_users:20,position:"bottom right",bottom:!1,productPageElement:!1,elementHeight:60,animateFrom:!1},a),b=$("#block"),c=$("#f-content-"+top.spl.cid_views,window.parent.document),b.css({position:"fixed",left:"0px",top:"0px",height:"auto"}),f=parseInt($("#block").css("border-top-width"))+parseInt($("#block").css("border-bottom-width")),styleDefault={width:"100%",height:h.elementHeight+f,bottom:"initial",overflow:"hidden",position:"fixed",top:"initial",left:"initial",right:"initial",display:"block"},c.css(styleDefault),usersAnimateParamsBeforeAction=styleDefault,usersAnimateParamsBeforeAction.width=b.innerWidth(),styleDefault.width=b.innerWidth(),c.css(usersAnimateParamsBeforeAction),usersAnimateParamsBeforeAction=$.userSetAnimateParams($.usersHelperSetPosition(h.position),h.animateFrom),usersAnimateParamsBeforeAction.width=b.innerWidth(),c.css(usersAnimateParamsBeforeAction),i=$(".users").html(),i>h.max_users?(i=Math.floor(Math.random()*(h.max_users-h.min_users+1)+h.min_users),$(".users").html(i)):isNaN(parseInt(i))&&(i=Math.floor(Math.random()*(h.max_users-h.min_users+1)+h.min_users),$(".users").html(i)),0!=h.productPageElement?$(h.productPageElement,window.parent.document).length>0&&j():j()};